{% extends "admin/admin_navbar.html.twig" %}

{% block title %}
Production Company
{% endblock %}

{% block brand_redirect %}
{{path('admin_panel')}}
{% endblock %}

{% block content %}
<h2 style="text-align: center ;margin-top: 20px"><b>Admin Production Comapany Panel</b></h2>
<div class="container-fluid">
{% for message in app.flashes('comapny_notice') %}
    <div class="alert alert-success">
        {{ message }}
    </div>
{% endfor %}
<a href="{{path('add_company')}}" class="btn btn-primary" role="button" aria-pressed="true"><i class="fa fa-plus-circle"></i> Add Production Comapany</a>

<div class="btn-group">
  <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <i class="fa fa-arrows-v"></i> Sort
  </button>
  <div class="dropdown-menu">
    <a class="dropdown-item" href="{{path('company_dashboard_desc')}}">New -- old</a>
    <a class="dropdown-item" href="{{path('production_panel')}}">Old -- new</a>
</div>
</div>

<div style="margin-top:20px; margin-buttom:0px">
 {{ knp_pagination_render(fetch_companys) }}
 </div>

<table class="table">
  <thead class="thead-dark">
    <tr>
      <th scope="col">Company id</th>
      <th scope="col">Company image</th>
      <th scope="col">Company name</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>
  {% for company in fetch_companys %}
    <tr>
      <td scope="row">
      {{company.id}}
     </td>
      <td><a href="{{path('company_details',{id: company.id})}}"><img src="/upload/{{company.image}}" alt="not found" style="width: 40px; height: 50px;"></a></td>
      <td>{{company.name}}</td>
      <td>
      <a href="{{path('update_company',{id: company.id})}}" class="btn btn-primary " role="button" aria-pressed="true"><i class="fa fa-repeat"></i> Update</a>
      <a href="{{path('delete_production_company',{id: company.id})}}" class="btn btn-danger" role="button" aria-pressed="true"><i class="fa fa-trash"></i> Delete</a>
      </td>
    </tr>
 {% endfor %}
  </tbody>
</table>
{% endblock %}